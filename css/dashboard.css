 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/css/dashboard.css b/css/dashboard.css
index dd56600f3f9ea0b8833213963bf4f8e764a279d2..a5c4c792f1ae93ae37e289e59f31b14ccca1da9c 100644
--- a/css/dashboard.css
+++ b/css/dashboard.css
@@ -1,449 +1,321 @@
- (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
-diff --git a/css/dashboard.css b/css/dashboard.css
-index b8094930e6372fef45714b66a0701cee84f767a9..1857aa6187f4782fd9b6b3eaed4930064c7e00c5 100644
---- a/css/dashboard.css
-+++ b/css/dashboard.css
-@@ -1,88 +1,417 @@
-+:root {
-+  color-scheme: light;
-+  --bg: #f6f7fb;
-+  --surface: #ffffff;
-+  --primary: #2563eb;
-+  --primary-dark: #1d4ed8;
-+  --text: #0f172a;
-+  --muted: #64748b;
-+  --border: #e2e8f0;
-+  --shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
-+}
-+
-+* {
-+  box-sizing: border-box;
-+}
-+
- body {
--  font-family: Arial;
-+  font-family: "Inter", "Segoe UI", Arial, sans-serif;
-   margin: 0;
--  background: #f0f2f5;
-+  background: var(--bg);
-+  color: var(--text);
-+}
-+
-+button, input, select {
-+  font-family: inherit;
-+}
-+
-+.dashboard {
-+  min-height: 100vh;
- }
- 
- .topbar {
--  background: dodgerblue;
-+  background: var(--surface);
-+  border-bottom: 1px solid var(--border);
-+  padding: 12px 24px;
-+  display: flex;
-+  justify-content: space-between;
-+  align-items: center;
-+  gap: 16px;
-+  position: sticky;
-+  top: 0;
-+  z-index: 20;
-+}
-+
-+.brand {
-+  display: flex;
-+  align-items: center;
-+  gap: 10px;
-+}
-+
-+.logo {
-+  background: var(--primary);
-+  color: white;
-+  font-weight: 700;
-+  padding: 6px 10px;
-+  border-radius: 10px;
-+}
-+
-+.app-name {
-+  font-weight: 600;
-+}
-+
-+.search {
-+  flex: 1;
-+  max-width: 480px;
-+}
-+
-+.search input {
-+  width: 100%;
-+  padding: 10px 14px;
-+  border-radius: 999px;
-+  border: 1px solid var(--border);
-+  background: var(--bg);
-+}
-+
-+.top-actions {
-+  display: flex;
-+  align-items: center;
-+  gap: 12px;
-+}
-+
-+.btn {
-+  border: none;
-+  padding: 8px 16px;
-+  border-radius: 10px;
-+  cursor: pointer;
-+  font-weight: 600;
-+}
-+
-+.btn.primary {
-+  background: var(--primary);
-   color: white;
--  padding: 15px;
-+}
-+
-+.btn.primary:hover {
-+  background: var(--primary-dark);
-+}
-+
-+.btn.ghost {
-+  background: transparent;
-+  border: 1px solid var(--border);
-+  color: var(--text);
-+}
-+
-+.btn.ghost.active {
-+  border-color: var(--primary);
-+  color: var(--primary);
-+}
-+
-+.btn.full {
-+  width: 100%;
-+}
-+
-+.layout {
-+  display: grid;
-+  grid-template-columns: 240px 1fr;
-+  min-height: calc(100vh - 64px);
-+}
-+
-+.sidebar {
-+  padding: 20px;
-+  background: var(--surface);
-+  border-right: 1px solid var(--border);
-+  display: flex;
-+  flex-direction: column;
-+  gap: 24px;
-+}
-+
-+.nav {
-+  display: flex;
-+  flex-direction: column;
-+  gap: 8px;
-+}
-+
-+.nav-item {
-+  background: transparent;
-+  border: none;
-+  padding: 10px 12px;
-+  border-radius: 10px;
-+  text-align: left;
-+  cursor: pointer;
-+  font-weight: 600;
-+  color: var(--muted);
-+}
-+
-+.nav-item.active {
-+  background: #e8f0ff;
-+  color: var(--primary);
-+}
-+
-+.storage {
-+  margin-top: auto;
-   display: flex;
-+  flex-direction: column;
-+  gap: 8px;
-+}
-+
-+.storage-bar {
-+  width: 100%;
-+  height: 8px;
-+  background: #e5e7eb;
-+  border-radius: 999px;
-+  overflow: hidden;
-+}
-+
-+#storageFill {
-+  display: block;
-+  height: 100%;
-+  width: 0%;
-+  background: var(--primary);
-+}
-+
-+.content {
-+  padding: 24px 32px;
-+}
-+
-+.content-header {
-+  display: flex;
-+  align-items: center;
-   justify-content: space-between;
-+  margin-bottom: 18px;
-+}
-+
-+.breadcrumb {
-+  margin: 0;
-+  color: var(--muted);
-+  font-size: 14px;
-+}
-+
-+h1 {
-+  margin: 4px 0 0;
-+}
-+
-+.toolbar {
-+  display: flex;
-+  justify-content: space-between;
-+  align-items: center;
-+  background: var(--surface);
-+  padding: 12px 16px;
-+  border-radius: 12px;
-+  border: 1px solid var(--border);
-+  margin-bottom: 16px;
-+  gap: 12px;
-+}
-+
-+.toolbar select {
-+  margin-left: 8px;
-+  padding: 6px 10px;
-+  border-radius: 8px;
-+  border: 1px solid var(--border);
-+}
-+
-+#statusText {
-+  color: var(--muted);
-+  font-size: 14px;
-+}
-+
-+.drop-zone {
-+  border: 2px dashed var(--border);
-+  padding: 30px;
-+  border-radius: 12px;
-+  text-align: center;
-+  color: var(--muted);
-+  background: var(--surface);
-+  margin-bottom: 20px;
-+  transition: border-color 0.2s ease, background 0.2s ease;
-+}
-+
-+.drop-zone.active {
-+  border-color: var(--primary);
-+  background: #eef2ff;
-+}
-+
-+.file-grid {
-+  display: grid;
-+  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
-+  gap: 16px;
-+}
-+
-+.file-grid.list {
-+  display: block;
-+}
-+
-+.file-card {
-+  background: var(--surface);
-+  padding: 16px;
-+  border-radius: 14px;
-+  box-shadow: var(--shadow);
-+  border: 1px solid var(--border);
-+  display: flex;
-+  flex-direction: column;
-+  gap: 12px;
-+}
-+
-+.file-card.list {
-+  flex-direction: row;
-   align-items: center;
-+  justify-content: space-between;
-+}
-+
-+.file-meta {
-+  display: flex;
-+  flex-direction: column;
-+  gap: 4px;
-+}
-+
-+.file-name {
-+  font-weight: 600;
-+}
-+
-+.file-details {
-+  color: var(--muted);
-+  font-size: 13px;
-+}
-+
-+.file-actions {
-+  display: flex;
-+  flex-wrap: wrap;
-+  gap: 8px;
-+}
-+
-+.file-actions button {
-+  padding: 6px 10px;
-+  border-radius: 8px;
-+  border: 1px solid var(--border);
-+  background: transparent;
-+  cursor: pointer;
-+  font-size: 13px;
- }
- 
- .user-area {
-   position: relative;
- }
- 
- #avatarBtn {
-   background: none;
-   border: none;
-   cursor: pointer;
-+  padding: 0;
- }
- 
- #userAvatar {
-   width: 40px;
-   height: 40px;
-   border-radius: 50%;
-+  border: 2px solid var(--border);
- }
- 
- .dropdown {
-   position: absolute;
-   right: 0;
--  top: 50px;
-+  top: 52px;
-   background: white;
--  border: 1px solid #ddd;
-+  border: 1px solid var(--border);
-   padding: 10px;
-   display: flex;
-   flex-direction: column;
-   gap: 8px;
-+  border-radius: 10px;
-+  min-width: 150px;
-+  box-shadow: var(--shadow);
-+}
-+
-+.dropdown button {
-+  border: none;
-+  background: transparent;
-+  text-align: left;
-+  cursor: pointer;
-+  font-weight: 600;
- }
- 
- .hidden {
-   display: none;
- }
- 
- .modal {
-   position: fixed;
-   inset: 0;
--  background: rgba(0,0,0,0.4);
-+  background: rgba(15, 23, 42, 0.4);
-   display: flex;
-   justify-content: center;
-   align-items: center;
-+  z-index: 50;
- }
- 
- .modal-content {
-   background: white;
--  padding: 20px;
--  width: 300px;
-+  padding: 24px;
-+  width: min(360px, 90vw);
-   text-align: center;
-+  border-radius: 16px;
-+  display: flex;
-+  flex-direction: column;
-+  gap: 12px;
-+}
-+
-+.modal-content input {
-+  padding: 10px 12px;
-+  border-radius: 8px;
-+  border: 1px solid var(--border);
- }
- 
- .modal-buttons {
-   margin-top: 10px;
-   display: flex;
-   justify-content: space-between;
-+  gap: 12px;
- }
- 
--.upload-section {
--  padding: 20px;
-+.detail-item {
-+  display: flex;
-+  justify-content: space-between;
-+  align-items: center;
-+  padding: 10px 12px;
-+  border-radius: 10px;
-+  background: var(--bg);
- }
- 
--.file-grid {
--  display: flex;
--  flex-wrap: wrap;
--  padding: 20px;
-+@media (max-width: 960px) {
-+  .layout {
-+    grid-template-columns: 1fr;
-+  }
-+
-+  .sidebar {
-+    position: sticky;
-+    top: 64px;
-+    z-index: 10;
-+    flex-direction: row;
-+    align-items: center;
-+    justify-content: space-between;
-+    border-right: none;
-+    border-bottom: 1px solid var(--border);
-+  }
-+
-+  .nav {
-+    flex-direction: row;
-+  }
-+
-+  .storage {
-+    display: none;
-+  }
- }
- 
--.file-card {
--  background: white;
--  width: 160px;
--  padding: 15px;
--  margin: 10px;
--  border-radius: 8px;
--  text-align: center;
--  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
-+@media (max-width: 720px) {
-+  .topbar {
-+    flex-direction: column;
-+    align-items: stretch;
-+  }
-+
-+  .top-actions {
-+    justify-content: space-between;
-+  }
-+
-+  .content {
-+    padding: 20px;
-+  }
- }
- 
-EOF
-)
+:root {
+  --bg: #f7f9fc;
+  --surface: #fff;
+  --line: #dbe2ec;
+  --text: #122033;
+  --muted: #607089;
+  --primary: #1a73e8;
+  --primary-soft: #e8f0fe;
+  --danger: #b42318;
+  --shadow: 0 8px 28px rgba(18, 32, 51, 0.09);
+}
+
+* { box-sizing: border-box; }
+
+body {
+  margin: 0;
+  font-family: Inter, Segoe UI, Arial, sans-serif;
+  background: var(--bg);
+  color: var(--text);
+}
+
+button, input, select { font: inherit; }
+
+.topbar {
+  height: 68px;
+  background: var(--surface);
+  border-bottom: 1px solid var(--line);
+  padding: 10px 16px;
+  display: flex;
+  align-items: center;
+  gap: 12px;
+  position: sticky;
+  top: 0;
+  z-index: 30;
+}
+
+.brand { display: flex; align-items: center; gap: 8px; min-width: 130px; }
+.logo-mark { color: var(--primary); font-weight: 700; }
+.logo-text { font-size: 26px; font-weight: 500; }
+
+.search-wrap {
+  flex: 1;
+  display: flex;
+  align-items: center;
+  gap: 8px;
+  background: #eef3fb;
+  border-radius: 999px;
+  padding: 0 14px;
+  min-height: 46px;
+}
+.search-wrap input {
+  flex: 1;
+  border: 0;
+  background: transparent;
+  outline: none;
+}
+.search-icon { color: var(--muted); }
+
+.top-actions { display: flex; align-items: center; gap: 10px; }
+
+.btn {
+  border: 1px solid transparent;
+  border-radius: 10px;
+  padding: 8px 14px;
+  font-weight: 600;
+  cursor: pointer;
+}
+.btn.primary { background: var(--primary); color: #fff; }
+.btn.primary:hover { filter: brightness(0.95); }
+.btn.ghost { background: #fff; border-color: var(--line); color: var(--text); }
+.btn.ghost.active { background: var(--primary-soft); border-color: var(--primary); color: var(--primary); }
+.btn.full { width: 100%; justify-content: center; }
+
+.icon-btn {
+  border: 1px solid var(--line);
+  background: #fff;
+  border-radius: 10px;
+  width: 42px;
+  height: 42px;
+}
+.mobile-only { display: none; }
+
+.user-area { position: relative; }
+.user-area > button {
+  border: 0;
+  background: none;
+  padding: 0;
+  cursor: pointer;
+}
+.user-area img {
+  width: 38px;
+  height: 38px;
+  border-radius: 50%;
+  border: 2px solid var(--line);
+}
+
+.dropdown {
+  position: absolute;
+  top: 48px;
+  right: 0;
+  width: 190px;
+  background: #fff;
+  border: 1px solid var(--line);
+  border-radius: 12px;
+  box-shadow: var(--shadow);
+  overflow: hidden;
+}
+.dropdown button {
+  width: 100%;
+  border: 0;
+  background: #fff;
+  text-align: left;
+  padding: 10px 12px;
+}
+.dropdown button:hover { background: #f4f7fb; }
+
+.hidden { display: none !important; }
+
+.app-shell {
+  min-height: calc(100vh - 68px);
+  display: grid;
+  grid-template-columns: 260px 1fr;
+}
+
+.sidebar {
+  background: #fff;
+  border-right: 1px solid var(--line);
+  padding: 18px 14px;
+  display: flex;
+  flex-direction: column;
+  gap: 18px;
+}
+
+.nav { display: flex; flex-direction: column; gap: 4px; }
+.nav-item {
+  border: 0;
+  background: transparent;
+  text-align: left;
+  border-radius: 999px;
+  padding: 9px 14px;
+  color: var(--text);
+  cursor: pointer;
+}
+.nav-item.active { background: #d3e3fd; color: #001d4e; font-weight: 600; }
+
+.storage { margin-top: auto; }
+.storage p { margin: 0 0 6px; font-weight: 600; }
+.storage-bar { height: 8px; border-radius: 999px; background: #e4e9f0; overflow: hidden; }
+#storageFill { display: block; height: 100%; width: 0; background: var(--primary); }
+
+.content { padding: 18px 20px 34px; }
+.content-header {
+  display: flex;
+  justify-content: space-between;
+  align-items: flex-start;
+  gap: 10px;
+}
+.breadcrumb { margin: 0; color: var(--muted); font-size: 13px; }
+h1 { margin: 8px 0 0; font-size: 33px; }
+
+.header-controls { display: flex; flex-direction: column; align-items: flex-end; gap: 10px; }
+.chips { display: flex; gap: 8px; flex-wrap: wrap; justify-content: flex-end; }
+.chip {
+  border: 1px solid var(--line);
+  background: #fff;
+  border-radius: 999px;
+  padding: 6px 12px;
+}
+.view-toggle { display: flex; gap: 8px; }
+
+.toolbar {
+  margin: 16px 0;
+  display: flex;
+  justify-content: space-between;
+  align-items: center;
+  color: var(--muted);
+}
+.toolbar select {
+  margin-left: 8px;
+  border: 1px solid var(--line);
+  border-radius: 8px;
+  padding: 6px 10px;
+}
+
+.drop-zone {
+  border: 1px dashed #9eb6d9;
+  border-radius: 18px;
+  background: #f7faff;
+  color: #2f4d7a;
+  text-align: center;
+  padding: 22px;
+  margin-bottom: 16px;
+}
+.drop-zone.active {
+  border-color: var(--primary);
+  background: var(--primary-soft);
+}
+
+.file-grid {
+  display: grid;
+  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
+  gap: 14px;
+}
+.file-grid.list { grid-template-columns: 1fr; }
+
+.file-card {
+  background: #fff;
+  border: 1px solid var(--line);
+  border-radius: 14px;
+  box-shadow: var(--shadow);
+  overflow: hidden;
+}
+.file-thumb {
+  height: 130px;
+  display: grid;
+  place-items: center;
+  background: #f4f7fb;
+  border-bottom: 1px solid var(--line);
+}
+.file-thumb img {
+  width: 100%;
+  height: 100%;
+  object-fit: cover;
+}
+.file-thumb .ext {
+  font-size: 26px;
+  font-weight: 700;
+  color: #516685;
+}
+
+.file-body { padding: 12px; display: flex; flex-direction: column; gap: 10px; }
+.file-name { font-weight: 600; word-break: break-word; }
+.file-details { color: var(--muted); font-size: 12px; }
+.file-actions { display: flex; flex-wrap: wrap; gap: 6px; }
+.file-actions button {
+  border: 1px solid var(--line);
+  background: #fff;
+  border-radius: 8px;
+  padding: 5px 9px;
+  font-size: 12px;
+}
+.file-actions button:hover { border-color: var(--primary); color: var(--primary); }
+.file-actions button.danger:hover { border-color: #fda29b; color: var(--danger); }
+
+.file-grid.list .file-card {
+  display: grid;
+  grid-template-columns: 72px 1fr;
+}
+.file-grid.list .file-thumb {
+  height: 100%;
+  border-right: 1px solid var(--line);
+  border-bottom: 0;
+}
+
+.modal {
+  position: fixed;
+  inset: 0;
+  background: rgba(9, 18, 31, 0.5);
+  display: grid;
+  place-items: center;
+  z-index: 50;
+}
+.modal-content {
+  width: min(430px, 92vw);
+  background: #fff;
+  border-radius: 16px;
+  box-shadow: var(--shadow);
+  padding: 20px;
+  display: flex;
+  flex-direction: column;
+  gap: 12px;
+}
+.modal-content input {
+  border: 1px solid var(--line);
+  border-radius: 10px;
+  padding: 9px 12px;
+}
+.modal-buttons { display: flex; justify-content: flex-end; gap: 8px; }
+.detail-item {
+  display: flex;
+  justify-content: space-between;
+  border-bottom: 1px solid var(--line);
+  padding: 8px 0;
+}
+
+@media (max-width: 960px) {
+  .mobile-only { display: inline-grid; place-items: center; }
+  .app-shell { grid-template-columns: 1fr; }
+  .sidebar {
+    position: fixed;
+    left: 0;
+    top: 68px;
+    bottom: 0;
+    width: min(85vw, 290px);
+    transform: translateX(-105%);
+    transition: transform 0.2s ease;
+    z-index: 40;
+  }
+  .sidebar.open { transform: translateX(0); }
+
+  .header-controls { width: 100%; align-items: flex-start; }
+  .chips { justify-content: flex-start; }
+}
+
+@media (max-width: 760px) {
+  .topbar { flex-wrap: wrap; height: auto; }
+  .brand { order: 1; }
+  .top-actions { margin-left: auto; }
+  .search-wrap { order: 3; width: 100%; }
+
+  .content-header {
+    flex-direction: column;
+    align-items: flex-start;
+  }
+
+  .toolbar {
+    flex-direction: column;
+    align-items: flex-start;
+    gap: 8px;
+  }
+}
 
EOF
)
