<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MyDrive</title>
  <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>

<div class="app">

  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="logo">MyDrive</h2>
    <button class="primary-btn" onclick="createFolder()">+ New Folder</button>

    <nav>
      <div class="nav-item active">My Drive</div>
    </nav>
  </aside>

  <!-- Main -->
  <main class="main">

    <!-- Topbar -->
    <header class="topbar">
      <div id="breadcrumbs" class="breadcrumbs"></div>

      <div class="user-box">
        <img id="avatar"
             src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
             onclick="toggleUserMenu()">
        <div id="userMenu" class="user-menu hidden">
            <p id="userEmail"></p>
            <p id="userId"></p>
            <input type="file" id="avatarUpload" hidden>
            <button onclick="changeAvatar()">Change Profile Image</button>
            <button onclick="logout()">Logout</button>

        </div>
      </div>
    </header>

    <!-- Drag Area -->
    <div id="dropZone" class="drop-zone">
      Drag & Drop files here
      <input type="file" id="fileInput" multiple hidden>
    </div>

    <!-- File Grid -->
    <div id="fileGrid" class="file-grid"></div>

  </main>

</div>

<!-- Rename Modal -->
<div id="renameModal" class="modal hidden">
  <div class="modal-box">
    <h3>Rename</h3>
    <input id="renameInput">
    <button onclick="confirmRename()">Save</button>
    <button onclick="closeModal()">Cancel</button>
  </div>
</div>

<!-- Move Modal -->
<div id="moveModal" class="modal hidden">
  <div class="modal-box">
    <h3>Select Folder</h3>
    <div id="folderList"></div>
    <button onclick="closeModal()">Cancel</button>
  </div>
</div>

<!-- Preview Modal -->
<div id="previewModal" class="modal hidden">
  <div class="modal-box preview-box">
    <div id="previewContent"></div>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabaseClient.js"></script>
<script src="js/dashboard.js"></script>

</body>
</html>
